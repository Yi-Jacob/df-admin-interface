"use strict";(self.webpackChunkdf_admin_interface=self.webpackChunkdf_admin_interface||[]).push([[8592],{73991:(E,g,n)=>{n.d(g,{U:()=>f});var h=n(42346),e=n(65879);const r=["calendlyWidget"];let f=(()=>{class s{ngAfterViewInit(){window.Calendly.initInlineWidget({url:"https://calendly.com/dreamfactory-platform/unlock-all-features",parentElement:this.calendlyWidget.nativeElement,autoLoad:!1})}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["df-paywall"]],viewQuery:function(l,m){if(1&l&&e.Gf(r,5),2&l){let _;e.iGM(_=e.CRH())&&(m.calendlyWidget=_.first)}},standalone:!0,features:[e.jDz],decls:40,vars:33,consts:[[1,"paywall-container"],[1,"details-section"],[1,"dynamic-width"],["href","https://genie.dreamfactory.com/?utm_source=platform&utm_medium=paywall&utm_campaign=hosted","target","_blank"],[1,"calendly-inline-widget"],["calendlyWidget",""],[1,"paywall-contact"],["href","tel:+1 415-993-5877"],["href","mailto:info@dreamfactory.com"]],template:function(l,m){1&l&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2),e.ALo(3,"transloco"),e.qZA(),e.TgZ(4,"h2"),e._uU(5),e.ALo(6,"transloco"),e.qZA(),e.TgZ(7,"div",1)(8,"div",2)(9,"h4"),e._uU(10),e.ALo(11,"transloco"),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.ALo(14,"transloco"),e.qZA()(),e.TgZ(15,"div",2)(16,"h4"),e._uU(17),e.ALo(18,"transloco"),e.qZA(),e.TgZ(19,"p"),e._uU(20),e.ALo(21,"transloco"),e.TgZ(22,"a",3),e._uU(23),e.ALo(24,"transloco"),e.qZA(),e._uU(25),e.ALo(26,"transloco"),e.qZA()()(),e.TgZ(27,"h2"),e._uU(28),e.ALo(29,"transloco"),e.qZA()(),e._UZ(30,"div",4,5),e.TgZ(32,"h3",6)(33,"a",7),e._uU(34),e.ALo(35,"transloco"),e.qZA(),e._uU(36," | "),e.TgZ(37,"a",8),e._uU(38),e.ALo(39,"transloco"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,11,"paywall.header")),e.xp6(3),e.Oqu(e.lcZ(6,13,"paywall.subheader")),e.xp6(5),e.Oqu(e.lcZ(11,15,"paywall.hostedTrial")),e.xp6(3),e.Oqu(e.lcZ(14,17,"paywall.bookTime")),e.xp6(4),e.Oqu(e.lcZ(18,19,"paywall.ossVersion")),e.xp6(3),e.hij(" ",e.lcZ(21,21,"paywall.signup"),""),e.xp6(3),e.Oqu(e.lcZ(24,23,"paywall.trial")),e.xp6(2),e.hij("",e.lcZ(26,25,"paywall.gain")," "),e.xp6(3),e.Oqu(e.lcZ(29,27,"paywall.speakToHuman")),e.xp6(6),e.hij("",e.lcZ(35,29,"phone"),": +1 415-993-5877"),e.xp6(4),e.hij("",e.lcZ(39,31,"email"),": info@dreamfactory.com"))},dependencies:[h.Ot],styles:[".paywall-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.calendly-inline-widget[_ngcontent-%COMP%]{min-width:320px;width:100%;height:100%}.details-section[_ngcontent-%COMP%]{margin:32px 0;max-width:690px}.paywall-contact[_ngcontent-%COMP%]{width:100%;text-align:center;padding-bottom:32px}"]}),s})()},55799:(E,g,n)=>{n.d(g,{E:()=>S});var A,h=n(97582),e=n(96814),r=n(56223),f=n(32296),s=n(17700),u=n(64170),l=n(2032),m=n(98525),_=n(42346),v=n(86806),a=n(30977),P=n(78791),I=n(26306),T=n(58504),t=n(65879);function y(p,i){1&p&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"transloco"),t.qZA()),2&p&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"scripts.errors.githubImport")," "))}function d(p,i){1&p&&(t.TgZ(0,"mat-form-field")(1,"mat-label"),t._uU(2,"GitHub Username"),t.qZA(),t._UZ(3,"input",9),t.qZA())}function c(p,i){1&p&&(t.TgZ(0,"mat-form-field")(1,"mat-label"),t._uU(2,"GitHub Password"),t.qZA(),t._UZ(3,"input",10),t.qZA())}n(6625);let D=((A=class{constructor(i,o,b){this.githubService=i,this.formBuilder=o,this.dialogRef=b,this.isGitRepoPrivate=!1,this.formGroup=o.group({url:["",[r.kI.required,this.urlValidator]]})}ngOnInit(){this.formGroup.controls.url.valueChanges.subscribe(i=>{if(function U(p){let i;try{i=new URL(p)}catch{return!1}return"http:"===i.protocol||"https:"===i.protocol}(i)&&(i.indexOf(".js")>0||i.indexOf(".py")>0||i.indexOf(".php")>0||i.indexOf(".txt")>0)&&i.includes("github")){const b=i.substring(i.indexOf(".com/")+5).split("/");this.repoOwner=b[0],this.repoName=b[1],this.fileName=b[4],this.githubService.get(`${this.repoOwner}/${this.repoName}`,{snackbarError:"server",snackbarSuccess:"getScriptSuccessMsg",includeCacheControl:!1}).pipe((0,I.K)(C=>(this.isGitRepoPrivate=!0,this.formGroup.addControl("username",this.formBuilder.control("",r.kI.required)),this.formGroup.addControl("password",this.formBuilder.control("",r.kI.required)),(0,T._)(()=>new Error(C))))).subscribe(C=>{this.isGitRepoPrivate=C.private})}})}urlValidator(i){const o=i.value;return(o.indexOf(".js")>0||o.indexOf(".py")>0||o.indexOf(".php")>0||o.indexOf(".txt")>0)&&o.includes("github")?null:{invalidUrl:!0}}onFileUrlChange(i){console.log("file url changed",i)}onUpload(){if(this.formGroup.invalid)return;const i=`${this.repoOwner}/${this.repoName}/contents/${this.fileName}`,o=window.btoa(this.formGroup.value.username+":"+this.formGroup.value.password);this.githubService.get(i,{additionalParams:[{key:"ref",value:"main"}],additionalHeaders:[...this.isGitRepoPrivate?[{key:"Authorization",value:`Basic ${o}`}]:[]]}).subscribe(Z=>{this.dialogRef.close({data:Z})})}}).\u0275fac=function(i){return new(i||A)(t.Y36(v.mx),t.Y36(r.qu),t.Y36(s.so))},A.\u0275cmp=t.Xpm({type:A,selectors:[["df-scripts-github-dialog"]],standalone:!0,features:[t.jDz],decls:18,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"details-section",3,"formGroup"],["subscriptSizing","dynamic"],["matInput","","formControlName","url","placeholder","https://github.com/user/repo/blob/file.json"],[4,"ngIf"],["mat-dialog-actions",""],["mat-flat-button","","mat-dialog-close",""],["mat-flat-button","","color","primary",3,"click"],["matInput","","formControlName","username","placeholder","Username","type","text"],["matInput","","formControlName","password","placeholder","Password","type","password"]],template:function(i,o){1&i&&(t.TgZ(0,"h1",0),t._uU(1,"Import a script file from GitHub"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"GitHub File URL"),t.qZA(),t._UZ(7,"input",4),t.YNc(8,y,3,3,"mat-error",5),t.qZA(),t.YNc(9,d,4,0,"mat-form-field",5),t.YNc(10,c,4,0,"mat-form-field",5),t.qZA()(),t.TgZ(11,"div",6)(12,"button",7),t._uU(13),t.ALo(14,"transloco"),t.qZA(),t.TgZ(15,"button",8),t.NdJ("click",function(){return o.onUpload()}),t._uU(16),t.ALo(17,"transloco"),t.qZA()()),2&i&&(t.xp6(3),t.Q6J("formGroup",o.formGroup),t.xp6(5),t.Q6J("ngIf",null==o.formGroup.controls.url.errors?null:o.formGroup.controls.url.errors.invalidUrl),t.xp6(1),t.Q6J("ngIf",o.formGroup.contains("username")),t.xp6(1),t.Q6J("ngIf",o.formGroup.contains("password")),t.xp6(3),t.Oqu(t.lcZ(14,6,"close")),t.xp6(3),t.hij(" ",t.lcZ(17,8,"upload")," "))},dependencies:[f.ot,f.lW,s.Is,s.ZT,s.uh,s.xY,s.H8,u.lN,u.KE,u.hX,u.TO,l.c,l.Nt,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,e.O5,_.Ot]}),A);D=(0,h.gn)([(0,P.c)({checkProperties:!0})],D);var x,O=n(41609),w=n(94664),L=n(65763);function V(p,i){if(1&p&&(t.TgZ(0,"mat-form-field",8)(1,"mat-label"),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t._UZ(4,"input",9),t.qZA()),2&p){const o=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"path")),t.xp6(2),t.Q6J("formControl",o.storagePath)}}function N(p,i){if(1&p){const o=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(o);const Z=t.oxw(2);return t.KtG(Z.deleteCache())}),t._uU(1),t.ALo(2,"transloco"),t.qZA()}2&p&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"scripts.deleteCache")," "))}function G(p,i){if(1&p){const o=t.EpF();t.TgZ(0,"div",10)(1,"button",11),t.NdJ("click",function(){t.CHM(o);const Z=t.oxw();return t.KtG(Z.viewLatest())}),t._uU(2),t.ALo(3,"transloco"),t.qZA(),t.YNc(4,N,3,3,"button",12),t.qZA()}if(2&p){const o=t.oxw();t.xp6(1),t.Q6J("disabled",!o.storagePath.getRawValue()),t.xp6(1),t.hij(" ",t.lcZ(3,3,"scripts.viewLatest")," "),t.xp6(2),t.Q6J("ngIf",o.cache)}}let S=((x=class{constructor(i,o,b,Z,C){this.dialog=i,this.fileService=o,this.cacheService=b,this.baseService=Z,this.themeService=C,this.storageServices=[],this.isDarkMode=this.themeService.darkMode$,this.baseService.getAll({additionalParams:[{key:"group",value:"source control,file"}]}).subscribe(R=>{this.storageServices=R.services})}ngOnInit(){this.storageServiceId.getRawValue()&&this.storagePath.addValidators([r.kI.required]),this.storageServiceId.valueChanges.subscribe(i=>{this.storagePath.reset(),i?this.storagePath.addValidators([r.kI.required]):this.storagePath.hasValidator(r.kI.required)&&this.storagePath.removeValidators([r.kI.required]),this.storagePath.updateValueAndValidity()})}fileUpload(i){const o=i.target;o.files&&(0,a.Vu)(o.files[0]).subscribe(b=>{this.content.setValue(b)})}githubImport(){this.dialog.open(D).afterClosed().subscribe(o=>{o&&this.content.setValue(window.atob(o.data.content))})}viewLatest(){const i=`${this.storageServices.find(o=>o.id===this.storageServiceId.getRawValue())?.name}/${this.storagePath.getRawValue()}`;i.endsWith(".json")?this.fileService.downloadJson(i).subscribe(o=>this.content.setValue(o)):this.fileService.downloadFile(i).pipe((0,w.w)(o=>(0,a.Vu)(o))).subscribe(o=>this.content.setValue(o))}deleteCache(){this.cache&&this.cacheService.delete(`_event/${this.cache}`,{snackbarSuccess:"scripts.deleteCacheSuccessMsg"}).subscribe()}}).\u0275fac=function(i){return new(i||x)(t.Y36(s.uw),t.Y36(v.PA),t.Y36(v.OP),t.Y36(v.PA),t.Y36(L.F))},x.\u0275cmp=t.Xpm({type:x,selectors:[["df-script-editor"]],inputs:{cache:"cache",type:"type",storageServiceId:"storageServiceId",storagePath:"storagePath",content:"content"},standalone:!0,features:[t.jDz],decls:14,vars:16,consts:[[1,"details-section"],[1,"actions","full-width"],["type","file",2,"display","none",3,"accept","change"],["fileInput",""],["type","button","mat-flat-button","",1,"save-btn",3,"disabled","click"],["class","dynamic-width","subscriptSizing","dynamic",4,"ngIf"],["class","actions",4,"ngIf"],[1,"full-width",3,"formControl","mode"],["subscriptSizing","dynamic",1,"dynamic-width"],["matInput","",3,"formControl"],[1,"actions"],["mat-flat-button","","color","primary","type","button",3,"disabled","click"],["mat-flat-button","","color","primary","type","button",3,"click",4,"ngIf"],["mat-flat-button","","color","primary","type","button",3,"click"]],template:function(i,o){if(1&i){const b=t.EpF();t.TgZ(0,"div",0),t.ALo(1,"async"),t.TgZ(2,"div",1)(3,"input",2,3),t.NdJ("change",function(C){return o.fileUpload(C)}),t.qZA(),t.TgZ(5,"button",4),t.NdJ("click",function(){t.CHM(b);const C=t.MAs(4);return t.KtG(C.click())}),t._uU(6),t.ALo(7,"transloco"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return o.githubImport()}),t._uU(9),t.ALo(10,"transloco"),t.qZA()(),t.YNc(11,V,5,4,"mat-form-field",5),t.YNc(12,G,5,5,"div",6),t._UZ(13,"df-ace-editor",7),t.qZA()}2&i&&(t.Tol(t.lcZ(1,10,o.isDarkMode)?"dark-theme":""),t.xp6(5),t.Q6J("disabled",o.storageServiceId.getRawValue()),t.xp6(1),t.hij(" ",t.lcZ(7,12,"desktopFile")," "),t.xp6(2),t.Q6J("disabled",o.storageServiceId.getRawValue()),t.xp6(1),t.hij(" ",t.lcZ(10,14,"githubFile")," "),t.xp6(2),t.Q6J("ngIf",!!o.storageServiceId.getRawValue()),t.xp6(1),t.Q6J("ngIf",o.storageServiceId.getRawValue()),t.xp6(1),t.Q6J("formControl",o.content)("mode",o.type.getRawValue()))},dependencies:[f.ot,f.lW,_.Ot,e.O5,u.lN,u.KE,u.hX,m.LD,s.Is,l.c,l.Nt,O.C,e.Ov,r.UX,r.Fj,r.JJ,r.oH],styles:[".actions[_ngcontent-%COMP%]{display:flex;gap:16px}"]}),x);S=(0,h.gn)([(0,P.c)({checkProperties:!0})],S)},75058:(E,g,n)=>{n.d(g,{M:()=>A});var T,h=n(97582),e=n(96814),r=n(56223),f=n(64170),s=n(98525),u=n(42346),l=n(92596),m=n(45597),_=n(90590),v=n(78791),a=n(65879),P=n(65763),I=n(23680);function U(y,d){if(1&y&&(a.TgZ(0,"mat-label"),a._uU(1),a.qZA()),2&y){const c=a.oxw();a.xp6(1),a.Oqu(c.schema.label)}}function t(y,d){if(1&y&&(a.TgZ(0,"mat-option",5),a._uU(1),a.qZA()),2&y){const c=d.$implicit;a.Q6J("value",c.value),a.xp6(1),a.hij(" ",c.label," ")}}function M(y,d){if(1&y&&a._UZ(0,"fa-icon",6),2&y){const c=a.oxw();a.Q6J("icon",c.faCircleInfo)("matTooltip",c.schema.description)}}let A=((T=class{constructor(d,c){this.controlDir=d,this.themeService=c,this.type="verb",this.showLabel=!0,this.faCircleInfo=_.DBf,this.control=new r.NI,this.verbs=[{value:1,altValue:"GET",label:(0,u.Iu)("verbs.get")},{value:2,altValue:"POST",label:(0,u.Iu)("verbs.post")},{value:4,altValue:"PUT",label:(0,u.Iu)("verbs.put")},{value:8,altValue:"PATCH",label:(0,u.Iu)("verbs.patch")},{value:16,altValue:"DELETE",label:(0,u.Iu)("verbs.delete")}],this.isDarkMode=this.themeService.darkMode$,d.valueAccessor=this}ngDoCheck(){this.controlDir.control instanceof r.NI&&this.controlDir.control.hasValidator(r.kI.required)&&this.control.addValidators(r.kI.required)}writeValue(d){if(d)if("number"===this.type&&"number"==typeof d){const c=this.verbs.filter(D=>(d&D.value)===D.value).map(D=>D.value);this.control.setValue(c,{emitEvent:!1})}else this.control.setValue("verb"===this.type&&"string"==typeof d?this.verbs.find(c=>c.altValue===d)?.value??"":d.map(c=>this.verbs.find(D=>D.altValue===c)?.value??0),{emitEvent:!1})}registerOnChange(d){this.onChange=d,this.control.valueChanges.subscribe(c=>{const D="number"===this.type?(c||[]).reduce((O,w)=>O|w,0):"verb_multiple"===this.type?(c||[]).map(O=>this.verbs.find(w=>w.value===O)?.altValue??""):this.verbs.find(O=>O.value===c)?.altValue??"";this.onChange(D)})}registerOnTouched(d){this.onTouched=d}setDisabledState(d){d?this.control.disable():this.control.enable()}}).\u0275fac=function(d){return new(d||T)(a.Y36(r.a5,2),a.Y36(P.F))},T.\u0275cmp=a.Xpm({type:T,selectors:[["df-verb-picker"]],inputs:{type:"type",schema:"schema",showLabel:"showLabel"},standalone:!0,features:[a.jDz],decls:7,vars:10,consts:[["subscriptSizing","dynamic","appearance","outline"],[4,"ngIf"],[3,"formControl","multiple"],[3,"value",4,"ngFor","ngForOf"],["class","tool-tip-trigger","matSuffix","",3,"icon","matTooltip",4,"ngIf"],[3,"value"],["matSuffix","",1,"tool-tip-trigger",3,"icon","matTooltip"]],template:function(d,c){1&d&&(a.TgZ(0,"div"),a.ALo(1,"async"),a.TgZ(2,"mat-form-field",0),a.YNc(3,U,2,1,"mat-label",1),a.TgZ(4,"mat-select",2),a.YNc(5,t,2,2,"mat-option",3),a.qZA(),a.YNc(6,M,1,2,"fa-icon",4),a.qZA()()),2&d&&(a.Tol(a.lcZ(1,8,c.isDarkMode)?"dark-theme":""),a.xp6(3),a.Q6J("ngIf",c.showLabel),a.xp6(1),a.Q6J("formControl",c.control)("multiple","verb_multiple"===c.type||"number"===c.type),a.uIk("aria-label",c.schema.label),a.xp6(1),a.Q6J("ngForOf",c.verbs),a.xp6(1),a.Q6J("ngIf",c.schema.description))},dependencies:[s.LD,f.KE,f.hX,f.R9,s.gD,I.ey,f.lN,r.UX,r.JJ,r.oH,e.ax,e.O5,l.AV,l.gM,m.uH,m.BN,e.Ov],encapsulation:2}),T);A=(0,h.gn)([(0,v.c)({checkProperties:!0})],A)},52002:(E,g,n)=>{n.d(g,{h:()=>h});const h=["csv","json","xml"]},45696:(E,g,n)=>{n.d(g,{B:()=>h});const h=[{columnDef:"active",cell:e=>e.active,header:"active"},{columnDef:"email",cell:e=>e.email,header:"email"},{columnDef:"displayName",cell:e=>e.displayName,header:"name"},{columnDef:"firstName",cell:e=>e.firstName,header:"firstName"},{columnDef:"lastName",cell:e=>e.lastName,header:"lastName"},{columnDef:"registration",cell:e=>e.registration,header:"registration"},{columnDef:"actions"}]},15711:(E,g,n)=>{n.d(g,{H:()=>r,p:()=>e});var h=n(94517);function e(f){return Object.values((0,h.sh)(f)).flatMap(s=>Object.entries(s).map(([u,l])=>{let m=[];return m=l.parameter?l.endpoints.flatMap(_=>{const v=_.match(/{(.*?)}/);if(v){const a=v[1];return[_,...(l.parameter?.[a]||[]).map(I=>_.replace(`{${a}}`,I))]}return _}):l.endpoints,{name:u,endpoints:[...new Set(m)]}}))}function r(f){const s=[],u=new Set;for(const l of f){const m=l.split(".")[0];u.has(m)||(u.add(m),s.push(`${m}.*`)),s.push(l)}return s}},22873:(E,g,n)=>{n.d(g,{_:()=>e});var h=n(15861);function e(f,s){return r.apply(this,arguments)}function r(){return(r=(0,h.Z)(function*(f,s){const l=(new TextEncoder).encode(`${f}${s}${Date.now()}`),m=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(m)).map(a=>a.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}},35326:(E,g,n)=>{function h(e){if(e.value.length>0)try{JSON.parse(e.value)}catch{return{jsonInvalid:!0}}return null}n.d(g,{U:()=>h})},15861:(E,g,n)=>{function h(r,f,s,u,l,m,_){try{var v=r[m](_),a=v.value}catch(P){return void s(P)}v.done?f(a):Promise.resolve(a).then(u,l)}function e(r){return function(){var f=this,s=arguments;return new Promise(function(u,l){var m=r.apply(f,s);function _(a){h(m,u,l,_,v,"next",a)}function v(a){h(m,u,l,_,v,"throw",a)}_(void 0)})}}n.d(g,{Z:()=>e})}}]);